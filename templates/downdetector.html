{% extends "layout.html" %}

{% block content %}

<head>
    <title>Down Detector</title>
    <link rel="stylesheet" href="static/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <h3>{{ name }}</h3>
    </br>
    <h3>Recent Reports: {{ reportcount }}</h3>
    </br>
    <form method="post">
        {{ form.csrf_token }}
        <input type="radio" id="down" name="status" value="true">
        <label for="down">This Elevator is Down</label>
        <input type="radio" id="up" name="status" value="false">
        <label for="up">The Elevator is Working</label>
        <input type="submit" value="Submit">
    </form>
    </br>
    <canvas id="barChart" width="900" height="400"></canvas>
    <script>
        const ctx = document.getElementById('barChart');
      
        new Chart(ctx, {
          type: 'bar',
          options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            },
          data: {
            labels: {{ labels | safe }},
            datasets: [{
              label: '# of Reports',
              data: {{ values | safe}},
              borderWidth: 1
                }]
            },
        });
      </script>
</body>

{% endblock %}